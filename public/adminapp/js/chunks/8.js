(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"/iGY":function(t,e,a){"use strict";a("BHgv")},"4aMx":function(t,e,a){"use strict";a("LKvt")},"8DqO":function(t,e,a){"use strict";a("TCJC")},"9y6E":function(t,e,a){"use strict";a.r(e);var s=a("VTBJ"),i=a("L2JU"),n=a("AKXe"),r=a("augP"),o=a("Xs8p"),l=(a("IC54"),{components:{DatatableSingle:n.a,DatatableEnum:r.a,BuDeptSingle:o.a},data:function(){return{mergedFields:{Kode:"kode","Tgl dibuat":"Tanggal dibuat","Tgl dibutuhkan":"Tanggal dibutuhkan",User:"User",BU:"BU",Dept:"Dept",Site:"Site",Status:"status",name:"name",merk:"merk",spesifikasi:"spesifikasi",qty:"qty",satuan:"satuan"},xprops:{module:"PkabItemsSingle"}}},beforeDestroy:function(){this.resetState()},computed:Object(s.a)({},Object(i.c)("PkabItemsSingle",["entry","jsonData","mergedData","timelineData"])),watch:{"$route.params.id":{immediate:!0,handler:function(){this.resetState(),this.fetchShowData(this.$route.params.id)}}},methods:Object(s.a)(Object(s.a)({},Object(i.b)("PkabItemsSingle",["fetchShowData","loading","resetState","approveData","updateData","setItemName","updateMergedData","rejectData","setItemMerk","setItemSpesifikasi","setItemQty","setItemSatuan","setKet"])),{},{updateItemName:function(t,e,a){a=e.target.value,this.setItemName({index:t,val:a})},updateItemMerk:function(t,e,a){a=e.target.value,this.setItemMerk({index:t,val:a})},updateItemSpec:function(t,e,a,s,i){a.style.cssText="height: ".concat(a.scrollHeight,"px !important;"),s.spesifikasiHeight="".concat(a.scrollHeight,"px"),i=e.target.value,this.setItemSpesifikasi({index:t,val:i})},updateItemQty:function(t,e,a){a=e.target.value,this.setItemQty({index:t,val:a})},updateItemSatuan:function(t,e,a){a=e.target.value,this.setItemSatuan({index:t,val:a})},approveData:function(t){var e=this;this.$swal({title:"Approve?",text:"Are you sure you want to approve this item?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then((function(a){if(a.value){var s=a.value;e.setKet(s),e.$store.dispatch(e.xprops.module+"/updateData",t).then((function(t){e.fetchShowData(e.$route.params.id),e.$eventHub.$emit("approve-success")}))}}))},rejectData:function(t){var e=this;this.$swal({title:"Reject?",text:"Masukkan Alasan",input:"text",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then((function(a){a.value?(console.log(t.id),console.log(a.value),e.$store.dispatch(e.xprops.module+"/rejectData",{id:t.id,ket:a.value}).then((function(t){e.fetchShowData(e.$route.params.id),e.$eventHub.$emit("reject-success")}))):e.$swal({icon:"error",title:"Failed",text:"Masukkan Alasan"})}))}})}),c=(a("4aMx"),a("KHd+")),d=Object(c.a)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-header card-header-primary card-header-icon"},[t._m(0),t._v(" "),e("h4",{staticClass:"card-title"},[t._v("\n            "+t._s(t.$t("global.view"))+" Detail\n            "),e("strong",[t._v(t._s(t.$t("cruds.pkabItem.title_singular")))])])]),t._v(" "),e("div",{staticClass:"card-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-3"},[e("back-button")],1),t._v(" "),e("div",{staticClass:"col-lg-3"},[t.$can("export")?e("export-excel",{attrs:{fields:t.mergedFields,data:t.mergedData}},[e("button",{staticClass:"btn btn-success"},[t._v("Export Item")])]):t._e()],1)])]),t._v(" "),e("div",{staticClass:"card-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"table-responsive"},[e("div",{staticClass:"table"},[e("tbody",[e("tr",[e("td",{staticClass:"text-primary"},[t._v("\n                        "+t._s(t.$t("cruds.pkabItem.fields.code"))+"\n                      ")]),t._v(" "),e("td",[t._v("\n                        "+t._s(t.entry.code)+"\n                      ")])]),t._v(" "),e("tr",[e("td",{staticClass:"text-primary"},[t._v("\n                        "+t._s(t.$t("cruds.pkabItem.fields.created_at"))+"\n                      ")]),t._v(" "),e("td",[t._v("\n                        "+t._s(t.entry.created_at)+"\n                      ")])]),t._v(" "),e("tr",[e("td",{staticClass:"text-primary"},[t._v("\n                        "+t._s(t.$t("cruds.pkabItem.fields.req_date"))+"\n                      ")]),t._v(" "),e("td",[t._v("\n                        "+t._s(t.entry.req_date)+"\n                      ")])]),t._v(" "),e("tr",[e("td",{staticClass:"text-primary"},[t._v("\n                        "+t._s(t.$t("cruds.pkabItem.fields.user"))+"\n                      ")]),t._v(" "),e("td",[e("datatable-single",{attrs:{row:t.entry,field:"user.name"}})],1)]),t._v(" "),e("tr",[e("td",{staticClass:"text-primary"},[t._v("\n                        "+t._s(t.$t("cruds.pkabItem.fields.status"))+"\n                      ")]),t._v(" "),e("td",[e("datatable-enum",{attrs:{row:t.entry,field:"status"}})],1)]),t._v(" "),e("tr",[e("td",{staticClass:"text-primary"},[t._v("\n                        "+t._s(t.$t("cruds.pkabItem.fields.bu"))+"\n                      ")]),t._v(" "),e("td",[e("datatable-single",{attrs:{row:t.entry,field:"bu.name"}})],1)]),t._v(" "),t.entry.site_id?e("tr",[e("td",{staticClass:"text-primary"},[t._v("\n                        "+t._s(t.$t("cruds.pkabItem.fields.site"))+"\n                      ")]),t._v(" "),e("td",[e("datatable-single",{attrs:{row:t.entry,field:"site.name"}})],1)]):t._e(),t._v(" "),e("tr",[e("td",{staticClass:"text-primary"},[t._v("\n                        "+t._s(t.$t("cruds.pkabItem.fields.dept"))+"\n                      ")]),t._v(" "),e("td",[e("datatable-single",{attrs:{row:t.entry,field:"dept.name"}})],1)])])])])])])]),t._v(" "),e("div",{staticClass:"card-body"},[e("bootstrap-alert"),t._v(" "),e("table",{staticClass:"table table-bordered",attrs:{name:"inputItem"}},[t._m(1),t._v(" "),e("tbody",t._l(t.entry.items,(function(a,s){return e("tr",{key:s},[e("td",[t.$can(t.entry.status)&&t.$can("pkab_item_edit")?e("input",{staticClass:"form-control wrapText",attrs:{type:"text"},domProps:{value:a.name},on:{input:function(e){return t.updateItemName(s,e)}}}):e("input",{staticClass:"form-control wrapText",attrs:{disabled:"",type:"text"},domProps:{value:a.name}})]),t._v(" "),e("td",[t.$can(t.entry.status)&&t.$can("pkab_item_edit")?e("input",{staticClass:"form-control wrapText",attrs:{type:"text"},domProps:{value:a.merk},on:{input:function(e){return t.updateItemMerk(s,e)}}}):e("input",{staticClass:"form-control wrapText",attrs:{disabled:"",type:"text"},domProps:{value:a.merk}})]),t._v(" "),e("td",{style:{height:a.spesifikasiHeight}},[t.$can(t.entry.status)&&t.$can("pkab_item_edit")?e("textarea",{staticClass:"form-control wrapText",domProps:{value:a.spesifikasi},on:{input:function(e){return t.updateItemSpec(s,e,e.target,a)}}}):e("textarea",{staticClass:"form-control wrapText",attrs:{disabled:""},domProps:{value:a.spesifikasi}})]),t._v(" "),e("td",[t.$can(t.entry.status)&&t.$can("pkab_item_edit")?e("input",{staticClass:"form-control wrapText",attrs:{type:"number"},domProps:{value:a.qty},on:{input:function(e){return t.updateItemQty(s,e)}}}):e("input",{staticClass:"form-control wrapText",attrs:{disabled:"",type:"number"},domProps:{value:a.qty}})]),t._v(" "),e("td",[t.$can(t.entry.status)&&t.$can("pkab_item_edit")?e("input",{staticClass:"form-control wrapText",attrs:{type:"text"},domProps:{value:a.satuan},on:{input:function(e){return t.updateItemSatuan(s,e)}}}):e("input",{staticClass:"form-control wrapText",attrs:{disabled:"",type:"text"},domProps:{value:a.satuan}})])])})),0)])],1),t._v(" "),e("div",{staticClass:"card-body"},[t._m(2),t._v(" "),t._l(t.timelineData,(function(a,s){return e("timeline",{key:s},["selesai"==a.proses?e("timeline-item",{attrs:{"bg-color":"green"}},[t._v("\n                "+t._s(a.status)+"\n                "),a.tanggal?e("p",[t._v("Tanggal : "+t._s(a.tanggal))]):t._e(),t._v(" "),a.user?e("p",[t._v("Diproses Oleh : "+t._s(a.user))]):t._e()]):t._e(),t._v(" "),"proses"==a.proses?e("timeline-item",{attrs:{"bg-color":"yellow"}},[t._v("\n                "+t._s(a.status)+"\n                "),a.tanggal?e("p",[t._v("Tanggal : "+t._s(a.tanggal))]):t._e()]):t._e(),t._v(" "),""==a.proses?e("timeline-item",{attrs:{"bg-color":"red"}},[t._v("\n                "+t._s(a.status)+"\n              ")]):t._e()],1)}))],2),t._v(" "),t.$can(t.entry.status)?e("div",{staticClass:"card-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-3"},[e("button",{staticClass:"btn btn-info",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.approveData(t.entry)}}},[t._v("\n                Approve\n              ")])]),t._v(" "),e("div",{staticClass:"col-lg-3"},[e("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.rejectData(t.entry)}}},[t._v("\n                Reject\n              ")])])])]):t._e()])])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"card-icon"},[t("i",{staticClass:"material-icons"},[this._v("remove_red_eye")])])},function(){var t=this,e=t._self._c;return e("thead",[e("th",[t._v("Name")]),t._v(" "),e("th",[t._v("Merk")]),t._v(" "),e("th",[t._v("Spesifikasi")]),t._v(" "),e("th",[t._v("Qty")]),t._v(" "),e("th",[t._v("Satuan")])])},function(){var t=this._self._c;return t("h4",[t("strong",[this._v("Alur Pengajuan PKAB")])])}],!1,null,null,null);e.default=d.exports},AKXe:function(t,e,a){"use strict";var s={props:["field","row"],computed:{entry:function(){var t=_.split(this.field,".");return{key:t[0],field:t[1]}}}},i=(a("8DqO"),a("KHd+")),n=Object(i.a)(s,(function(){var t=this._self._c;return t("div",[this.row[this.entry.key]?t("span",{staticClass:"badge badge-pill badge-azure"},[this._v("\n    "+this._s(this.row[this.entry.key][this.entry.field])+"\n  ")]):t("span",{staticClass:"badge badge-pill badge-orange"},[this._v("\n    Not Assigned\n  ")])])}),[],!1,null,"bb08c5e2",null);e.a=n.exports},BHgv:function(t,e,a){var s=a("Cjuh");"string"==typeof s&&(s=[[t.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(s,i);s.locals&&(t.exports=s.locals)},CVUt:function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,".badge[data-v-bb08c5e2]{font-size:.875rem;font-weight:500;text-transform:none}",""])},Cjuh:function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,".badge[data-v-64bb3ee9]{font-size:.875rem;font-weight:500;text-transform:none}",""])},IC54:function(t,e,a){var s=a("bMjp");"string"==typeof s&&(s=[[t.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(s,i);s.locals&&(t.exports=s.locals)},LKvt:function(t,e,a){var s=a("wYvx");"string"==typeof s&&(s=[[t.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(s,i);s.locals&&(t.exports=s.locals)},TCJC:function(t,e,a){var s=a("CVUt");"string"==typeof s&&(s=[[t.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(s,i);s.locals&&(t.exports=s.locals)},Xs8p:function(t,e,a){"use strict";var s={props:["field","row"],computed:{entry:function(){var t=_.split(this.field,".");return{key:t[0],field:t[1]}}}},i=(a("/iGY"),a("KHd+")),n=Object(i.a)(s,(function(){var t=this,e=t._self._c;return e("div",[t.row[t.entry.key]?e("span",{staticClass:"badge badge-pill badge-azure"},[t._v("\n    "+t._s(t.row[t.entry.key][t.entry.field].name)+"  -  "+t._s(t.row[t.entry.key].name)+" \n  ")]):e("span",{staticClass:"badge badge-pill badge-orange"},[t._v("\n    Not Assigned\n  ")])])}),[],!1,null,"64bb3ee9",null);e.a=n.exports},augP:function(t,e,a){"use strict";var s={props:["field","row"]},i=a("KHd+"),n=Object(i.a)(s,(function(){return(0,this._self._c)("div",[this._v("\n  "+this._s(this.row["".concat(this.field,"_label")])+"\n")])}),[],!1,null,null,null);e.a=n.exports},bMjp:function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,'.timeline{padding:0;position:relative;list-style:none;font-family:PingFangSC-light,Avenir,Helvetica,Arial,Hiragino Sans GB,Microsoft YaHei,sans-serif;-webkit-font-smoothing:antialiased;margin:10px 20px}.timeline:after{position:absolute;content:"";left:0;top:0;width:1px;height:100%;background-color:var(--timelineTheme)}.timeline-item{position:relative;margin:1.5em 0 0 28px;padding-bottom:1.5em;border-bottom:1px dotted var(--timelineTheme)}.timeline-item:last-child{border-bottom:none}.timeline-circle{position:absolute;top:.28em;left:-34px;width:10px;height:10px;border-radius:50%;border:1px solid var(--timelineTheme);background-color:var(--timelineTheme);z-index:1;box-sizing:content-box}.timeline-circle.hollow{background-color:var(--timelineBg)}.timeline-title{position:relative;display:inline-block;cursor:crosshair;margin:-.15em 0 15px 28px}.timeline-title:not(:first-child){margin-top:28px}.timeline-title-circle{left:-36px;top:.15em;width:16px;height:16px}.timeline-others{width:40px;height:auto;top:.2em;left:-48px;line-height:1;padding:2px 0;text-align:center;border:none;background-color:var(--timelineBg)}',""])},wYvx:function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,"input:disabled,textarea:disabled{cursor:auto}",""])}}]);